(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"3zK3":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("AiOb");class a{constructor(t,e){this.rentals=t,this.bundles=e}}var o=r("fXoL"),l=r("b6Qw");let s=(()=>{class t{constructor(t){if(this.cookieService=t,null===this.checkShoppingCart()){let t=new Array,e=new Array,r=new a(e,t);localStorage.setItem("shopping-cart",JSON.stringify(r))}}getShoppingCart(){if(null!==this.checkShoppingCart())return JSON.parse(localStorage.getItem("shopping-cart"));{let t=JSON.parse(localStorage.getItem("shopping-cart"));return t.bundles=new Array,t.rentals=new Array,localStorage.setItem("shopping-cart",JSON.stringify(t)),console.log(t),t}}checkShoppingCart(){return JSON.parse(localStorage.getItem("shopping-cart"))}getRentals(){return this.getShoppingCart().rentals}getBundles(){return this.getShoppingCart().bundles}addRentalToCart(t){let e=this.getShoppingCart();e.rentals.push(t),localStorage.setItem("shopping-cart",JSON.stringify(e))}removeRentalFromCart(t){let e=this.getShoppingCart();e.rentals=e.rentals.filter(e=>!(e.car.id===t.car.id&&e.to===t.to&&e.from===t.from)),localStorage.setItem("shopping-cart",JSON.stringify(e))}getRental(t){let e=this.getShoppingCart();for(let r of e.rentals)if(r.car.id===t.car.id&&r.to===t.to&&r.from===t.from)return r}addBundleToCart(t){let e=this.getShoppingCart();if(!e.bundles.some(e=>e.name===t.name)){let r=new n.a(t.name,new Array,null);e.bundles.push(r)}localStorage.setItem("shopping-cart",JSON.stringify(e))}removeBundleFromCart(t){let e=this.getShoppingCart();var r=e.bundles.find(e=>e.name===t.name);for(let n of e.rentals)n.bundle===r.name&&(n.bundle=null);e.bundles=e.bundles.filter(e=>e.name!==t.name),localStorage.setItem("shopping-cart",JSON.stringify(e))}addToBundle(t,e){let r=this.getShoppingCart();var n=r.bundles.find(e=>e.name===t.name);for(let a of r.rentals)a.car.id===e.car.id&&a.to===e.to&&a.from===e.from&&(a.bundle=n.name,n.owner=e.car.ownerId,n.rentals.push(a));localStorage.setItem("shopping-cart",JSON.stringify(r))}removeFromBundle(t,e){let r=this.getShoppingCart();for(let n of r.bundles)if(t.name===n.name){n.rentals=n.rentals.filter(t=>!(t.car.id===e.car.id&&t.to===e.to&&t.from===e.from)),0===n.rentals.length&&(n.owner=null);break}for(let n of r.rentals)if(n.car.id===e.car.id&&n.to===e.to&&n.from===e.from){n.bundle=null;break}localStorage.setItem("shopping-cart",JSON.stringify(r))}clearCart(){let t=new Array,e=new Array,r=new a(e,t);localStorage.setItem("shopping-cart",JSON.stringify(r)),this.getShoppingCart()}}return t.\u0275fac=function(e){return new(e||t)(o.fc(l.a))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},AiOb:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n{constructor(t,e,r){this.name=t,this.rentals=e,this.owner=r}}}}]);