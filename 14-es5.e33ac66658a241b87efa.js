function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{d7gL:function(t,e,n){"use strict";n.r(e),n.d(e,"CustomerModule",(function(){return j}));var a=n("ofXK"),i=n("3Pt+"),c=n("wZkO"),o=n("+0xr"),r=n("0IaG"),s=n("kmnG"),l=n("qFsG"),u=n("bTqV"),b=n("d3UM"),f=n("NFeN"),d=n("tyNb"),v=n("fXoL"),g=n("zoVj"),m=n("qfBg"),p=n("bLfd"),h=n("D1vo"),C=n("wF8t");function w(t,e){if(1&t){var n=v.Yb();v.Xb(0,"div",6),v.jc("click",(function(){v.Hc(n);var t=e.$implicit;return v.nc().showVehicle(t.car.id)})),v.Sb(1,"app-rental-teaser",7),v.Wb()}if(2&t){var a=e.$implicit,i=v.nc();v.Db(1),v.uc("rental",a)("status",i.status)("customer",!0)}}function O(t,e){1&t&&v.Sb(0,"hr",8)}function k(t,e){if(1&t){var n=v.Yb();v.Xb(0,"div",9),v.Xb(1,"a",10),v.jc("click",(function(){v.Hc(n);var t=v.nc();return t.getCustomerRentals(t.pageNo+1)})),v.Qc(2,"Load more"),v.Wb(),v.Wb()}}var y,X=((y=function(){function t(e,n,a){_classCallCheck(this,t),this.userService=e,this.rentalService=n,this.vehicleService=a,this.rentals=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.rentals=new Array,this.getCustomerRentals(0)}},{key:"getCustomerRentals",value:function(t){var e,n=this,a=null===(e=this.userService.getUser())||void 0===e?void 0:e.id;this.rentalService.getCustomerRentals(a,this.status,t).subscribe((function(t){t.content.forEach((function(t){n.getVehicle(t.vehicleId).then((function(e){var a=new g.b(t.id,e,t.startTime,t.endTime,t.bundle,null,t.customerId,t.ownerId,t.company);n.rentals.push(a)}))})),n.pageNo=t.pageNo,n.totalPages=t.totalPages}),(function(t){alert(t)}))}},{key:"getVehicle",value:function(t){var e=this;return new Promise((function(n,a){e.vehicleService.getOne(t).subscribe((function(t){n(t)}),(function(t){console.log(t),a()}))}))}},{key:"showVehicle",value:function(t){window.open("/vehicle?vehicleID="+t,"_blank")}}]),t}()).\u0275fac=function(t){return new(t||y)(v.Rb(m.a),v.Rb(p.a),v.Rb(h.a))},y.\u0275cmp=v.Lb({type:y,selectors:[["app-customer-rentals-listing"]],inputs:{status:"status"},features:[v.Bb],decls:6,vars:3,consts:[[1,"container","mt-3"],[1,"row",2,"justify-content","center"],[1,"col-9"],["class","teaser","style","padding: 0.01em;",3,"click",4,"ngFor","ngForOf"],["class","dashed",4,"ngIf"],["class","row m-3 m-1 more-button-div",4,"ngIf"],[1,"teaser",2,"padding","0.01em",3,"click"],[3,"rental","status","customer"],[1,"dashed"],[1,"row","m-3","m-1","more-button-div"],[1,"btn","btn-sm","btn-outline-danger","more-button-button",3,"click"]],template:function(t,e){1&t&&(v.Xb(0,"div",0),v.Xb(1,"div",1),v.Xb(2,"div",2),v.Oc(3,w,2,3,"div",3),v.Oc(4,O,1,0,"hr",4),v.Oc(5,k,3,0,"div",5),v.Wb(),v.Wb(),v.Wb()),2&t&&(v.Db(3),v.uc("ngForOf",e.rentals),v.Db(1),v.uc("ngIf",e.totalPages>e.pageNo+1),v.Db(1),v.uc("ngIf",e.totalPages>e.pageNo+1))},directives:[a.m,a.n,C.a],styles:[".more-button-div[_ngcontent-%COMP%]{align-items:center;justify-content:center}.more-button-button[_ngcontent-%COMP%]:hover{color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{margin-top:.25em;line-height:6vh;outline-color:#e81831}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#e81831}.teaser[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),y);function P(t,e){1&t&&(v.Xb(0,"div",5),v.Xb(1,"div",6),v.Xb(2,"div",7),v.Sb(3,"app-customer-rentals-listing",8),v.Wb(),v.Wb(),v.Wb()),2&t&&(v.Db(3),v.uc("status","PENDING"))}function W(t,e){1&t&&(v.Xb(0,"div",5),v.Xb(1,"div",6),v.Xb(2,"div",7),v.Sb(3,"app-customer-rentals-listing",8),v.Wb(),v.Wb(),v.Wb()),2&t&&(v.Db(3),v.uc("status","RESERVED"))}function _(t,e){1&t&&(v.Xb(0,"div",5),v.Xb(1,"div",6),v.Xb(2,"div",7),v.Sb(3,"app-customer-rentals-listing",8),v.Wb(),v.Wb(),v.Wb()),2&t&&(v.Db(3),v.uc("status","FINISHED"))}function D(t,e){1&t&&(v.Xb(0,"div",5),v.Xb(1,"div",6),v.Xb(2,"div",7),v.Sb(3,"app-customer-rentals-listing",8),v.Wb(),v.Wb(),v.Wb()),2&t&&(v.Db(3),v.uc("status","CANCELED"))}var I,S,N,M=[{path:"",component:(I=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),I.\u0275fac=function(t){return new(t||I)},I.\u0275cmp=v.Lb({type:I,selectors:[["app-customer-rentals"]],decls:9,vars:0,consts:[["label","Pending"],["matTabContent",""],["label","Reserved"],["label","Finished"],["label","Canceled"],[1,"container"],[1,"row"],[1,"col-12"],[3,"status"]],template:function(t,e){1&t&&(v.Xb(0,"mat-tab-group"),v.Xb(1,"mat-tab",0),v.Oc(2,P,4,1,"ng-template",1),v.Wb(),v.Xb(3,"mat-tab",2),v.Oc(4,W,4,1,"ng-template",1),v.Wb(),v.Xb(5,"mat-tab",3),v.Oc(6,_,4,1,"ng-template",1),v.Wb(),v.Xb(7,"mat-tab",4),v.Oc(8,D,4,1,"ng-template",1),v.Wb(),v.Wb())},directives:[c.c,c.a,c.b,X],styles:[".mat-tab-label[_ngcontent-%COMP%], .mat-tab-labels[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%]{font-size:1.4em;color:#585858}.container[_ngcontent-%COMP%]{padding-top:1em}"]}),I),canActivate:[],children:[]},{path:"**",redirectTo:""}],R=((S=function t(){_classCallCheck(this,t)}).\u0275mod=v.Pb({type:S}),S.\u0275inj=v.Ob({factory:function(t){return new(t||S)},imports:[[d.g.forChild(M)],d.g]}),S),E=n("PCNd"),j=((N=function t(){_classCallCheck(this,t)}).\u0275mod=v.Pb({type:N}),N.\u0275inj=v.Ob({factory:function(t){return new(t||N)},imports:[[a.c,i.f,c.d,i.f,o.k,r.e,s.e,l.c,u.b,l.c,b.b,f.b,E.a,R]]}),N)}}]);