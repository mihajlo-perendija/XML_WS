(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+4LL":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class o{constructor(t,e,n,o,c){this.id=t,this.startTime=e,this.endTime=n,this.type=o,this.locations=c}}},QHs6:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var o=n("AytR"),c=n("0IaG"),i=n("fXoL"),a=n("ofXK"),r=n("bTqV"),l=n("kmnG"),s=n("qFsG"),b=n("3Pt+"),d=n("iadO");function u(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",7),i.Xb(1,"div",8),i.Xb(2,"p",9),i.Qc(3,"From"),i.Wb(),i.Wb(),i.Xb(4,"div",10),i.Xb(5,"mat-form-field"),i.Xb(6,"input",11),i.jc("ngModelChange",(function(e){return i.Hc(t),i.nc().local_data.from=e})),i.Wb(),i.Sb(7,"mat-datepicker-toggle",12),i.Sb(8,"mat-datepicker",13,14),i.Wb(),i.Wb(),i.Sb(10,"div",15),i.Xb(11,"div",8),i.Xb(12,"p",9),i.Qc(13,"To"),i.Wb(),i.Wb(),i.Xb(14,"div",10),i.Xb(15,"mat-form-field"),i.Xb(16,"input",11),i.jc("ngModelChange",(function(e){return i.Hc(t),i.nc().local_data.to=e})),i.Wb(),i.Sb(17,"mat-datepicker-toggle",12),i.Sb(18,"mat-datepicker",13,16),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.Dc(9),e=i.Dc(19),n=i.nc();i.Db(6),i.uc("disabled",!0)("ngModel",n.local_data.from)("matDatepicker",t),i.Db(1),i.uc("for",t),i.Db(9),i.uc("disabled",!0)("ngModel",n.local_data.to)("matDatepicker",e),i.Db(1),i.uc("for",e)}}function p(t,e){if(1&t&&(i.Qc(0," Delete occupancy: From: "),i.Xb(1,"b"),i.Qc(2),i.Wb(),i.Qc(3," To: "),i.Xb(4,"b"),i.Qc(5),i.Wb(),i.Qc(6," Type: "),i.Xb(7,"b"),i.Qc(8),i.Wb(),i.Qc(9,"? ")),2&t){const t=i.nc();i.Db(2),i.Rc(t.local_data.from),i.Db(3),i.Rc(t.local_data.to),i.Db(3),i.Rc(t.local_data.type)}}let m=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,console.log(e),this.local_data=Object.assign({},e),this.action=this.local_data.action}doAction(){this.dialogRef.close({event:this.action,data:this.local_data})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(c.f),i.Rb(c.a,8))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-occupancy-dialog-box"]],decls:13,vars:4,consts:[["mat-dialog-title","",1,"col-sm-12","d-flex","justify-content-center","mt-2"],["mat-dialog-content",""],["class","row",4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions","",1,"col-sm-12","d-flex","justify-content-center","mt-2"],["mat-button","",2,"color","white","background-color","#E81831",3,"click"],["mat-button","",3,"click"],[1,"row"],[1,"col-sm-4","d-flex","justify-content-sm-end","justify-content-center","mt-2"],[1,"feature-name"],[1,"col-sm-8","d-flex","justify-content-sm-start","justify-content-center","mt-2"],["matInput","",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"w-100"],["picker2",""]],template:function(t,e){if(1&t&&(i.Xb(0,"h1",0),i.Xb(1,"strong"),i.Qc(2),i.Wb(),i.Qc(3," \xa0 Occupancy"),i.Wb(),i.Xb(4,"div",1),i.Oc(5,u,20,8,"div",2),i.Oc(6,p,10,3,"ng-template",null,3,i.Pc),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"button",5),i.jc("click",(function(){return e.doAction()})),i.Qc(10),i.Wb(),i.Xb(11,"button",6),i.jc("click",(function(){return e.closeDialog()})),i.Qc(12,"Cancel"),i.Wb(),i.Wb()),2&t){const t=i.Dc(7);i.Db(2),i.Sc("",e.action," "),i.Db(3),i.uc("ngIf","Delete"!=e.action)("ngIfElse",t),i.Db(5),i.Rc(e.action)}},directives:[c.g,c.d,a.n,c.c,r.a,l.c,s.b,b.b,d.b,b.j,b.m,d.d,l.g,d.a],styles:[".feature-name[_ngcontent-%COMP%]{margin-left:1rem;padding-top:1rem;font-size:1.3rem;font-weight:500}"]}),t})();var f=n("+4LL"),g=n("j6lU"),h=n("NFeN"),v=n("Qu3c"),w=n("1kSV");function X(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",19),i.Sb(2,"img",20),i.Wb(),i.Wb()),2&t){const t=i.nc();i.Db(2),i.vc("src",t.API_URL+"/vehicle/image/"+t.car.images[0],i.Jc)}}function W(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"p",21),i.Qc(2,"No images provided"),i.Wb(),i.Wb())}function y(t,e){1&t&&(i.Xb(0,"span",22),i.Qc(1,"\u2605"),i.Wb()),2&t&&i.Ib("filled",100===e.fill)}function O(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",23),i.Xb(1,"button",24),i.Xb(2,"mat-icon"),i.Qc(3,"settings"),i.Wb(),i.Wb(),i.Xb(4,"div",25),i.Xb(5,"a",26),i.jc("click",(function(){i.Hc(t);const e=i.nc();return e.openDialog("Update",e.car)})),i.Qc(6,"Add manual occupancy"),i.Wb(),i.Wb(),i.Wb()}}let j=(()=>{class t{constructor(t,e){this.dialog=t,this.occupancyService=e,this.API_URL=o.a.API_URL}ngOnInit(){}openDialog(t,e){e.action=t,this.dialog.open(m,{width:"400px",data:e}).afterClosed().subscribe(t=>{var e;if("Update"===t.event){let n=new f.a(null,Number(t.data.from)/1e3,Number(t.data.to)/1e3,"MANUAL",null);this.occupancyService.add(null===(e=this.car)||void 0===e?void 0:e.id,n).subscribe(t=>{console.log(t)},t=>{alert(t)})}else"Delete"===t.event&&console.log(t.data)})}checkMileage(t){return-1!=t?t:"Unlimited"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(c.b),i.Rb(g.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-car-teaser-car-info"]],inputs:{car:"car",admin:"admin"},decls:39,vars:17,consts:[[1,"row","m-3","shadow-sm","m-1","bg-white","rounded"],[1,"col-md-4","col-left","d-flex"],[4,"ngIf"],[1,"col-md-6","col-left","d-flex","justify-content-sm-start","justify-content-center","mt-3","align-items-center"],[1,"vehicle-info","mt-1"],["matTooltip","Vehicle brand and model",3,"matTooltipPosition"],["matTooltip","Fuel type",3,"matTooltipPosition"],["matTooltip","Transmission type",3,"matTooltipPosition"],["matTooltip","Vehicle category",3,"matTooltipPosition"],["matTooltip","Seats",3,"matTooltipPosition"],["matTooltip","Mileage",3,"matTooltipPosition"],[1,"col-sm-4","col-md-2","col-left"],[1,"row","mt-3","d-flex","justify-content-center","align-self-center"],["readonly","true","max","5",3,"rate","rateChange"],[1,"row","d-flex","justify-content-center","align-self-center"],[1,"col-sm-4","col-md-1","d-flex","justify-content-center","align-self-center"],["src","assets/images/comment.png","alt","",1,"comment-icon","mt-3"],[1,"col-sm-4","col-md-3","d-flex","justify-content-center","align-self-center"],["class","dropdown",4,"ngIf"],[1,"row","justify-content-center","align-self-center","ml-1"],[1,"car-Image","shadow-sm","bg-white","rounded",3,"src"],["unselectable","on","onselectstart","return false;","onmousedown","return false;",2,"text-align","center","line-height","150px","-moz-user-select","none","-webkit-user-select","none","-ms-user-select","none","user-select","none","-o-user-select","none"],[1,"star"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","mat-button","","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Oc(2,X,3,1,"div",2),i.Oc(3,W,3,0,"div",2),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"ul",4),i.Xb(6,"li"),i.Xb(7,"mat-icon",5),i.Qc(8," directions_car"),i.Wb(),i.Qc(9),i.Wb(),i.Xb(10,"li"),i.Xb(11,"mat-icon",6),i.Qc(12," local_gas_station"),i.Wb(),i.Qc(13),i.Wb(),i.Xb(14,"li"),i.Xb(15,"mat-icon",7),i.Qc(16,"open_with"),i.Wb(),i.Qc(17),i.Wb(),i.Xb(18,"li"),i.Xb(19,"mat-icon",8),i.Qc(20,"commute"),i.Wb(),i.Qc(21),i.Wb(),i.Xb(22,"li"),i.Xb(23,"mat-icon",9),i.Qc(24,"airline_seat_recline_extra"),i.Wb(),i.Qc(25),i.Wb(),i.Xb(26,"li"),i.Xb(27,"mat-icon",10),i.Qc(28,"trending_up"),i.Wb(),i.Qc(29),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"div",12),i.Xb(32,"ngb-rating",13),i.jc("rateChange",(function(t){return e.car.numberOfStars/(e.car.numberOfReviews=t)})),i.Oc(33,y,2,2,"ng-template"),i.Wb(),i.Wb(),i.Xb(34,"div",14),i.Xb(35,"div",15),i.Sb(36,"img",16),i.Wb(),i.Sb(37,"div",17),i.Wb(),i.Oc(38,O,7,0,"div",18),i.Wb(),i.Wb()),2&t&&(i.Db(2),i.uc("ngIf",e.car.images[0]),i.Db(1),i.uc("ngIf",!e.car.images[0]),i.Db(4),i.uc("matTooltipPosition","below"),i.Db(2),i.Tc(" ",e.car.brand.name," ",e.car.model.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.fuel.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.transmission.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.category.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.seats," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.checkMileage(e.car.mileage)," km "),i.Db(3),i.uc("rate",e.car.numberOfStars/e.car.numberOfReviews),i.Db(6),i.uc("ngIf",e.admin))},directives:[a.n,h.a,v.a,w.b,r.a],styles:[".star[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:5em;color:#585858}.filled[_ngcontent-%COMP%]{color:#e81831}.car-Image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.col-left[_ngcontent-%COMP%]{padding-left:0;align-items:center;justify-content:center}.col-vehicle-info[_ngcontent-%COMP%]{padding-left:.35em;padding-right:0}.vehicle-info[_ngcontent-%COMP%]{font-size:.8rem;list-style-type:none;-webkit-padding-start:0;padding-inline-start:0}.comment-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em}.info-label[_ngcontent-%COMP%]{font-family:RlBasisGrotesque,Avenir,Helvetica Neue,Helvetica,sans-serif;text-transform:none;margin-right:.4em;font-weight:700}.mat-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;font-family:Material Icons!important;vertical-align:middle;margin-right:1rem;margin-left:.5rem;cursor:help}"]}),t})()},bLfd:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("tk/3"),c=n("lJxs"),i=n("JIr8"),a=n("z6cu"),r=n("AytR"),l=n("fXoL"),s=n("b6Qw"),b=n("tyNb");const d=r.a.API_URL;let u=(()=>{class t{constructor(t,e,n){this.cookieService=t,this.http=e,this.router=n}checkout(t){let e=new o.d({"Content-Type":"application/json"});return this.http.post(d+"/checkout",t,{headers:e,observe:"response",responseType:"text"}).pipe(Object(c.a)(t=>t.body),Object(i.a)(t=>Object(a.a)(t.error.message)))}getCustomerRentals(t,e,n){const r=new o.d({"Content-Type":"application/json",pageable:"true",page:n.toString()});return this.http.get(`${d}/customer/${t}/rental/status/${e}`,{headers:r,observe:"response"}).pipe(Object(c.a)(t=>t.body),Object(i.a)(t=>Object(a.a)(t.error.message)))}getOwnerRentals(t,e,n){const r=new o.d({"Content-Type":"application/json",pageable:"true",page:n.toString()});return this.http.get(`${d}/owner/${t}/rental/status/${e}`,{headers:r,observe:"response"}).pipe(Object(c.a)(t=>t.body),Object(i.a)(t=>Object(a.a)(t.error.message)))}edit(t,e){let n=new o.d({"Content-Type":"application/json"});return this.http.put(`${d}/rental/${t}`,e,{headers:n,observe:"response"}).pipe(Object(c.a)(t=>t.body),Object(i.a)(t=>Object(a.a)(t.error)))}}return t.\u0275fac=function(e){return new(e||t)(l.fc(s.a),l.fc(o.b),l.fc(b.c))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},d32p:function(t,e,n){"use strict";n.r(e),n.d(e,"ShoppingCartModule",(function(){return R}));var o=n("ofXK"),c=n("3Pt+"),i=n("bSwM"),a=n("0IaG"),r=n("qFsG"),l=n("bTqV"),s=n("NFeN"),b=n("Qu3c"),d=n("tyNb"),u=n("zoVj"),p=n("+0xr"),m=n("fXoL"),f=n("kmnG");function g(t,e){if(1&t){const t=m.Yb();m.Xb(0,"mat-form-field"),m.Xb(1,"input",7),m.jc("ngModelChange",(function(e){return m.Hc(t),m.nc().local_data.name=e})),m.Wb(),m.Wb()}if(2&t){const t=m.nc();m.Db(1),m.uc("ngModel",t.local_data.name)}}function h(t,e){if(1&t&&(m.Qc(0," Delete "),m.Xb(1,"b"),m.Qc(2),m.Wb(),m.Qc(3," bundle? ")),2&t){const t=m.nc();m.Db(2),m.Rc(t.local_data.name)}}let v=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.local_data=Object.assign({},e),this.action=this.local_data.action}doAction(){this.dialogRef.close({event:this.action,data:this.local_data})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(m.Rb(a.f),m.Rb(a.a,8))},t.\u0275cmp=m.Lb({type:t,selectors:[["app-bundle-dialog-box"]],decls:12,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions","",2,"margin-top","10px"],["mat-button","",1,"do-button",3,"click"],["mat-button","","mat-flat-button","",3,"click"],["placeholder","Name","matInput","",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(m.Xb(0,"h1",0),m.Xb(1,"strong"),m.Qc(2),m.Wb(),m.Wb(),m.Xb(3,"div",1),m.Oc(4,g,2,1,"mat-form-field",2),m.Oc(5,h,4,1,"ng-template",null,3,m.Pc),m.Wb(),m.Xb(7,"div",4),m.Xb(8,"button",5),m.jc("click",(function(){return e.doAction()})),m.Qc(9),m.Wb(),m.Xb(10,"button",6),m.jc("click",(function(){return e.closeDialog()})),m.Qc(11,"Cancel"),m.Wb(),m.Wb()),2&t){const t=m.Dc(6);m.Db(2),m.Sc("",e.action," bundle"),m.Db(2),m.uc("ngIf","Delete"!=e.action)("ngIfElse",t),m.Db(5),m.Rc(e.action)}},directives:[a.g,a.d,o.n,a.c,l.a,f.c,r.b,c.b,c.j,c.m],styles:[".do-button[_ngcontent-%COMP%]{background-color:#e81831;color:#fff}"]}),t})();var w=n("AiOb"),X=n("3zK3"),W=n("qfBg"),y=n("bLfd"),O=n("b6Qw"),j=n("QHs6");function C(t,e){if(1&t){const t=m.Yb();m.Xb(0,"a",26),m.jc("click",(function(){m.Hc(t);const n=e.$implicit;return m.nc(2).addToBundle(n)})),m.Qc(1),m.Wb()}if(2&t){const t=e.$implicit;m.Db(1),m.Rc(t.name)}}function k(t,e){if(1&t&&(m.Xb(0,"div",20),m.Xb(1,"button",21),m.Xb(2,"span",22),m.Qc(3,"Add to bundle"),m.Wb(),m.Xb(4,"mat-icon",23),m.Qc(5,"add"),m.Wb(),m.Wb(),m.Xb(6,"div",24),m.Oc(7,C,2,1,"a",25),m.Wb(),m.Wb()),2&t){const t=m.nc();m.Db(7),m.uc("ngForOf",t.bundles)}}function D(t,e){if(1&t&&(m.Xb(0,"div"),m.Qc(1," Bundle: "),m.Xb(2,"b"),m.Qc(3),m.Wb(),m.Wb()),2&t){const t=m.nc();m.Db(3),m.Rc(t.rental.bundle)}}let P=(()=>{class t{constructor(t,e){this.cookieService=t,this.shoppingCartService=e,this.delete=new m.o,this.cartUpdated=new m.o}ngOnInit(){}addToBundle(t){t.owner&&t.owner!==this.rental.car.ownerId?alert("Cars in the same bundle must be from the same owner."):(this.shoppingCartService.addToBundle(t,this.rental),this.cartUpdated.emit(this.rental))}fromLocaleString(){return new Date(1e3*this.rental.from).toLocaleString()}toLocaleString(){return new Date(1e3*this.rental.to).toLocaleString()}removeFromCart(t){if(t.bundle){var e=new w.a(t.bundle,null,null);this.shoppingCartService.removeFromBundle(e,t)}this.cartUpdated.emit(this.rental),this.shoppingCartService.removeRentalFromCart(t),this.delete.emit(this.rental)}}return t.\u0275fac=function(e){return new(e||t)(m.Rb(O.a),m.Rb(X.a))},t.\u0275cmp=m.Lb({type:t,selectors:[["app-sc-car-teaser"]],inputs:{bundles:"bundles",rental:"rental"},outputs:{delete:"delete",cartUpdated:"cartUpdated"},decls:43,vars:6,consts:[[1,"row","m-3","shadow-sm","m-1","bg-white","rounded"],[1,"row",2,"width","100%"],[2,"width","100%",3,"car"],[1,"col-sm-6"],[1,"row","ml-1"],[1,"col-sm-2","d-flex","justify-content-sm-end","justify-content-center"],[1,"label"],[1,"col-sm-8","d-flex","justify-content-sm-start","justify-content-center"],[1,"text"],[1,"w-100"],[1,"col-sm-3"],[1,"row"],[1,"col-sm-12","d-flex","justify-content-center","align-self-center"],[1,"d-flex","align-self-center"],[2,"padding-left","0.8rem",3,"labelPosition"],[1,""],[1,"row","d-flex","justify-content-center","align-self-center"],["class","dropdown",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger",2,"margin-top","3px",3,"click"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","mat-button","","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],[2,"padding-bottom","7px","padding-right","7px"],[2,"cursor","pointer","font-size","24px","margin-left","0px","margin-right","0px","width","24px"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Sb(2,"app-car-teaser-car-info",2),m.Wb(),m.Xb(3,"div",1),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Xb(7,"p",6),m.Qc(8,"From"),m.Wb(),m.Wb(),m.Xb(9,"div",7),m.Xb(10,"p",8),m.Qc(11),m.Wb(),m.Wb(),m.Sb(12,"div",9),m.Wb(),m.Xb(13,"div",4),m.Xb(14,"div",5),m.Xb(15,"p",6),m.Qc(16,"To"),m.Wb(),m.Wb(),m.Xb(17,"div",7),m.Xb(18,"p",8),m.Qc(19),m.Wb(),m.Wb(),m.Sb(20,"div",9),m.Wb(),m.Wb(),m.Xb(21,"div",10),m.Xb(22,"div",11),m.Xb(23,"div",12),m.Xb(24,"p",6),m.Qc(25,"Collision Damage Waiver"),m.Wb(),m.Xb(26,"div",13),m.Sb(27,"mat-checkbox",14),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",10),m.Xb(29,"div",11),m.Xb(30,"div",12),m.Xb(31,"p",6),m.Qc(32,"Total price"),m.Wb(),m.Wb(),m.Xb(33,"div",12),m.Xb(34,"p",15),m.Qc(35,"500$"),m.Wb(),m.Wb(),m.Xb(36,"div",12),m.Xb(37,"div",16),m.Oc(38,k,8,1,"div",17),m.Oc(39,D,4,1,"div",18),m.Xb(40,"div"),m.Xb(41,"a",19),m.jc("click",(function(){return e.removeFromCart(e.rental)})),m.Qc(42,"Remove from cart"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.uc("car",e.rental.car),m.Db(9),m.Rc(e.fromLocaleString()),m.Db(8),m.Rc(e.toLocaleString()),m.Db(8),m.uc("labelPosition","after"),m.Db(11),m.uc("ngIf",null===e.rental.bundle),m.Db(1),m.uc("ngIf",null!==e.rental.bundle))},directives:[j.a,i.a,o.n,l.a,s.a,o.m],styles:[".label[_ngcontent-%COMP%]{font-weight:500}.text[_ngcontent-%COMP%]{font-weight:400}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#e81831}.mat-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;font-family:Material Icons!important;vertical-align:middle;margin-right:1rem;margin-left:.5rem;cursor:help}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:visited{background-color:transparent}.active[_ngcontent-%COMP%]{background-color:#e81831;color:#eee}.btn-outline-danger[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#e81831;color:#fff}"]}),t})();function Q(t,e){if(1&t){const t=m.Yb();m.Xb(0,"app-sc-car-teaser",11),m.jc("delete",(function(e){return m.Hc(t),m.nc().deleteRental(e)}))("cartUpdated",(function(e){return m.Hc(t),m.nc().cartUpdated(e)})),m.Wb()}if(2&t){const t=e.$implicit,n=m.nc();m.uc("rental",t)("bundles",n.bundles)}}function _(t,e){if(1&t){const t=m.Yb();m.Xb(0,"li",18),m.Qc(1),m.Xb(2,"mat-icon",19),m.jc("click",(function(){m.Hc(t);const n=e.$implicit,o=m.nc().$implicit;return m.nc().removeFromBundle(o,n)})),m.Qc(3,"close"),m.Wb(),m.Wb()}if(2&t){const t=e.$implicit;m.Db(1),m.Sc(" ",t.car.brand.name+" "+t.car.model.name," "),m.Db(1),m.uc("matTooltipPosition","below")}}function S(t,e){if(1&t){const t=m.Yb();m.Xb(0,"div",1),m.Xb(1,"div",12),m.Xb(2,"div",1),m.Xb(3,"div",13),m.Xb(4,"ul",14),m.Xb(5,"li",15),m.Qc(6),m.Xb(7,"mat-icon",16),m.jc("click",(function(){m.Hc(t);const n=e.$implicit;return m.nc().openDialog("Delete",n)})),m.Qc(8,"delete"),m.Wb(),m.Wb(),m.Oc(9,_,4,2,"li",17),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){const t=e.$implicit;m.Db(6),m.Sc(" ",t.name," "),m.Db(1),m.uc("matTooltipPosition","below"),m.Db(2),m.uc("ngForOf",t.rentals)}}const x=[{path:"",component:(()=>{class t{constructor(t,e,n,o){this.dialog=t,this.shoppingCartService=e,this.userService=n,this.rentalService=o,this.bundles=new Array,this.rentals=new Array}ngOnInit(){this.rentals=this.shoppingCartService.getRentals(),this.bundles=this.shoppingCartService.getBundles()}openDialog(t,e){e.action=t,this.dialog.open(v,{width:"300px",data:e}).afterClosed().subscribe(t=>{t&&("Create"===t.event?this.createBundle(t.data):"Delete"===t.event&&this.deleteBundle(t.data))})}createBundle(t){this.shoppingCartService.addBundleToCart(t),this.cartUpdated("create")}deleteBundle(t){this.shoppingCartService.removeBundleFromCart(t),this.cartUpdated("delete")}removeFromBundle(t,e){this.shoppingCartService.removeFromBundle(t,e),this.cartUpdated("remove")}checkout(){let t=new Array;if(0!==this.rentals.length){var e;for(e=0;e<this.rentals.length;e++){let n=this.rentals[e],o=new u.a(n.id,n.car.id,null,n.ownerId,n.from,n.to,null,null,null,n.company);if(o.customerId=this.userService.getUser().id,n.bundle){let t=new w.a(n.bundle,null,null);o.bundle=t}t.push(o)}this.rentalService.checkout(t).subscribe(()=>{alert("Checkout successfull"),this.shoppingCartService.clearCart(),this.cartUpdated("delete")},t=>{alert(t)})}}deleteRental(t){this.rentals=this.rentals.filter(e=>!(e.car.id===t.car.id&&e.to===t.to&&e.from===t.from))}cartUpdated(t){this.bundles=this.shoppingCartService.getBundles(),this.rentals=this.shoppingCartService.getRentals()}}return t.\u0275fac=function(e){return new(e||t)(m.Rb(a.b),m.Rb(X.a),m.Rb(W.a),m.Rb(y.a))},t.\u0275cmp=m.Lb({type:t,selectors:[["app-shopping-cart"]],viewQuery:function(t,e){var n;1&t&&m.Mc(p.j,!0),2&t&&m.Cc(n=m.kc())&&(e.table=n.first)},decls:14,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-9",2,"height","100%"],[3,"rental","bundles","delete","cartUpdated",4,"ngFor","ngForOf"],[1,"col-md-3",2,"height","100%"],["id","create-bundle-div",1,"row","m-3","m-1"],["id","create-bundle",1,"btn","btn-sm","btn-outline-danger",3,"click"],["matTooltip","Bundles indicate that you are willing to rent some vehicles through a single rental request and only as a group.",2,"cursor","pointer","font-size","24px","margin-left","15px","margin-right","0px","width","24px",3,"matTooltipPosition"],["class","row",4,"ngFor","ngForOf"],["id","checkout-div",1,"row","m-3"],["id","checkout",1,"btn","btn-danger",3,"click"],[3,"rental","bundles","delete","cartUpdated"],[1,"col"],[1,"col","m-2"],[1,"list-group"],[1,"list-group-item","active","justify-content-between","align-items-center","inline"],["matTooltip","Delete bundle",3,"matTooltipPosition","click"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["matTooltip","Remove from bundle",3,"matTooltipPosition","click"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Oc(3,Q,1,2,"app-sc-car-teaser",3),m.Wb(),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"a",6),m.jc("click",(function(){return e.openDialog("Create",{})})),m.Qc(7,"Create Bundle"),m.Wb(),m.Xb(8,"mat-icon",7),m.Qc(9,"help_outline"),m.Wb(),m.Wb(),m.Oc(10,S,10,3,"div",8),m.Xb(11,"div",9),m.Xb(12,"a",10),m.jc("click",(function(){return e.checkout()})),m.Qc(13,"Checkout"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(3),m.uc("ngForOf",e.rentals),m.Db(5),m.uc("matTooltipPosition","below"),m.Db(2),m.uc("ngForOf",e.bundles))},directives:[o.m,s.a,b.a,P],styles:["#create-bundle-div[_ngcontent-%COMP%]{align-items:center;justify-content:center}#create-bundle[_ngcontent-%COMP%]:hover{color:#fff}.active[_ngcontent-%COMP%]{background-color:#585858}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;font-family:Material Icons!important;vertical-align:middle;margin-right:.2rem;margin-left:.5rem;cursor:pointer;float:right}#checkout-div[_ngcontent-%COMP%]{padding-top:10vh;align-items:center;justify-content:center}#checkout[_ngcontent-%COMP%]{width:80%;background-color:#e81831}#checkout[_ngcontent-%COMP%], #checkout[_ngcontent-%COMP%]:hover{color:#fff}"]}),t})(),canActivate:[],children:[]}];let T=(()=>{class t{}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(e){return new(e||t)},imports:[[d.g.forChild(x)],d.g]}),t})();var M=n("PCNd");let R=(()=>{class t{}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(e){return new(e||t)},providers:[],imports:[[o.c,c.f,c.p,i.b,a.e,r.c,l.b,s.b,b.b,T,M.a]]}),t})()},j6lU:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("AytR"),c=n("tk/3"),i=n("lJxs"),a=n("JIr8"),r=n("z6cu"),l=n("fXoL"),s=n("b6Qw"),b=n("tyNb");const d=o.a.API_URL;let u=(()=>{class t{constructor(t,e,n){this.cookieService=t,this.http=e,this.router=n}getByVehicle(t){let e=new c.d({"Content-Type":"application/json"});return this.http.get(`${d}/vehicle/${t}/occupancy`,{headers:e,observe:"response"}).pipe(Object(i.a)(t=>t.body),Object(a.a)(t=>Object(r.a)(t.error.message)))}getOne(t,e,n){let o=new c.d({"Content-Type":"application/json"});return this.http.get(`${d}/vehicle/${t}/occupancy/start/${e}/end/${n}`,{headers:o,observe:"response"}).pipe(Object(i.a)(t=>t.body),Object(a.a)(t=>Object(r.a)(t.error.message)))}add(t,e){let n=new c.d({"Content-Type":"application/json"});return this.http.post(`${d}/vehicle/${t}/occupancy`,e,{headers:n,observe:"response"}).pipe(Object(i.a)(t=>t.body),Object(a.a)(t=>Object(r.a)(t.error.message)))}edit(t,e,n){let o=new c.d({"Content-Type":"application/json"});return this.http.put(`${d}/vehicle/${t}/occupancy/${e}`,n,{headers:o,observe:"response"}).pipe(Object(i.a)(t=>t.body),Object(a.a)(t=>Object(r.a)(t.error.message)))}delete(t,e){let n=new c.d({"Content-Type":"application/json"});return this.http.delete(`${d}/vehicle/${t}/occupancy/${e}`,{headers:n,observe:"response"}).pipe(Object(i.a)(t=>t.body),Object(a.a)(t=>Object(r.a)(t.error.message)))}}return t.\u0275fac=function(e){return new(e||t)(l.fc(s.a),l.fc(c.b),l.fc(b.c))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zoVj:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));class o{constructor(t,e,n,o,c,i,a,r,l){this.id=t,this.car=e,this.from=n,this.to=o,this.bundle=c,this.report=i,this.customerId=a,this.ownerId=r,this.company=l}}class c{constructor(t,e,n,o,c,i,a,r,l,s){this.bundle=null,this.id=t,this.vehicleId=e,this.customerId=n,this.ownerId=o,this.startTime=c,this.endTime=i,this.bundle=a,this.report=r,this.status=l,this.cid=s}}}}]);