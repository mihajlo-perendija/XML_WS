function _defineProperties(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+4LL":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var c=function t(e,n,c,o,i){_classCallCheck(this,t),this.id=e,this.startTime=n,this.endTime=c,this.type=o,this.locations=i}},QHs6:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var c=n("AytR"),o=n("0IaG"),i=n("fXoL"),a=n("ofXK"),r=n("bTqV"),l=n("kmnG"),s=n("qFsG"),b=n("3Pt+"),u=n("iadO");function d(t,e){if(1&t){var n=i.Yb();i.Xb(0,"div",7),i.Xb(1,"div",8),i.Xb(2,"p",9),i.Qc(3,"From"),i.Wb(),i.Wb(),i.Xb(4,"div",10),i.Xb(5,"mat-form-field"),i.Xb(6,"input",11),i.jc("ngModelChange",(function(t){return i.Hc(n),i.nc().local_data.from=t})),i.Wb(),i.Sb(7,"mat-datepicker-toggle",12),i.Sb(8,"mat-datepicker",13,14),i.Wb(),i.Wb(),i.Sb(10,"div",15),i.Xb(11,"div",8),i.Xb(12,"p",9),i.Qc(13,"To"),i.Wb(),i.Wb(),i.Xb(14,"div",10),i.Xb(15,"mat-form-field"),i.Xb(16,"input",11),i.jc("ngModelChange",(function(t){return i.Hc(n),i.nc().local_data.to=t})),i.Wb(),i.Sb(17,"mat-datepicker-toggle",12),i.Sb(18,"mat-datepicker",13,16),i.Wb(),i.Wb(),i.Wb()}if(2&t){var c=i.Dc(9),o=i.Dc(19),a=i.nc();i.Db(6),i.uc("disabled",!0)("ngModel",a.local_data.from)("matDatepicker",c),i.Db(1),i.uc("for",c),i.Db(9),i.uc("disabled",!0)("ngModel",a.local_data.to)("matDatepicker",o),i.Db(1),i.uc("for",o)}}function f(t,e){if(1&t&&(i.Qc(0," Delete occupancy: From: "),i.Xb(1,"b"),i.Qc(2),i.Wb(),i.Qc(3," To: "),i.Xb(4,"b"),i.Qc(5),i.Wb(),i.Qc(6," Type: "),i.Xb(7,"b"),i.Qc(8),i.Wb(),i.Qc(9,"? ")),2&t){var n=i.nc();i.Db(2),i.Rc(n.local_data.from),i.Db(3),i.Rc(n.local_data.to),i.Db(3),i.Rc(n.local_data.type)}}var p,m=((p=function(){function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n,console.log(n),this.local_data=Object.assign({},n),this.action=this.local_data.action}return _createClass(t,[{key:"doAction",value:function(){this.dialogRef.close({event:this.action,data:this.local_data})}},{key:"closeDialog",value:function(){this.dialogRef.close({event:"Cancel"})}}]),t}()).\u0275fac=function(t){return new(t||p)(i.Rb(o.f),i.Rb(o.a,8))},p.\u0275cmp=i.Lb({type:p,selectors:[["app-occupancy-dialog-box"]],decls:13,vars:4,consts:[["mat-dialog-title","",1,"col-sm-12","d-flex","justify-content-center","mt-2"],["mat-dialog-content",""],["class","row",4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions","",1,"col-sm-12","d-flex","justify-content-center","mt-2"],["mat-button","",2,"color","white","background-color","#E81831",3,"click"],["mat-button","",3,"click"],[1,"row"],[1,"col-sm-4","d-flex","justify-content-sm-end","justify-content-center","mt-2"],[1,"feature-name"],[1,"col-sm-8","d-flex","justify-content-sm-start","justify-content-center","mt-2"],["matInput","",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"w-100"],["picker2",""]],template:function(t,e){if(1&t&&(i.Xb(0,"h1",0),i.Xb(1,"strong"),i.Qc(2),i.Wb(),i.Qc(3," \xa0 Occupancy"),i.Wb(),i.Xb(4,"div",1),i.Oc(5,d,20,8,"div",2),i.Oc(6,f,10,3,"ng-template",null,3,i.Pc),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"button",5),i.jc("click",(function(){return e.doAction()})),i.Qc(10),i.Wb(),i.Xb(11,"button",6),i.jc("click",(function(){return e.closeDialog()})),i.Qc(12,"Cancel"),i.Wb(),i.Wb()),2&t){var n=i.Dc(7);i.Db(2),i.Sc("",e.action," "),i.Db(3),i.uc("ngIf","Delete"!=e.action)("ngIfElse",n),i.Db(5),i.Rc(e.action)}},directives:[o.g,o.d,a.n,o.c,r.a,l.c,s.b,b.b,u.b,b.j,b.m,u.d,l.g,u.a],styles:[".feature-name[_ngcontent-%COMP%]{margin-left:1rem;padding-top:1rem;font-size:1.3rem;font-weight:500}"]}),p),g=n("+4LL"),h=n("j6lU"),v=n("NFeN"),y=n("Qu3c"),w=n("1kSV");function k(t,e){if(1&t&&(i.Xb(0,"div"),i.Xb(1,"div",19),i.Sb(2,"img",20),i.Wb(),i.Wb()),2&t){var n=i.nc();i.Db(2),i.vc("src",n.API_URL+"/vehicle/image/"+n.car.images[0],i.Jc)}}function X(t,e){1&t&&(i.Xb(0,"div"),i.Xb(1,"p",21),i.Qc(2,"No images provided"),i.Wb(),i.Wb())}function C(t,e){1&t&&(i.Xb(0,"span",22),i.Qc(1,"\u2605"),i.Wb()),2&t&&i.Ib("filled",100===e.fill)}function W(t,e){if(1&t){var n=i.Yb();i.Xb(0,"div",23),i.Xb(1,"button",24),i.Xb(2,"mat-icon"),i.Qc(3,"settings"),i.Wb(),i.Wb(),i.Xb(4,"div",25),i.Xb(5,"a",26),i.jc("click",(function(){i.Hc(n);var t=i.nc();return t.openDialog("Update",t.car)})),i.Qc(6,"Add manual occupancy"),i.Wb(),i.Wb(),i.Wb()}}var O,j=((O=function(){function t(e,n){_classCallCheck(this,t),this.dialog=e,this.occupancyService=n,this.API_URL=c.a.API_URL}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"openDialog",value:function(t,e){var n=this;e.action=t,this.dialog.open(m,{width:"400px",data:e}).afterClosed().subscribe((function(t){var e;if("Update"===t.event){var c=new g.a(null,Number(t.data.from)/1e3,Number(t.data.to)/1e3,"MANUAL",null);n.occupancyService.add(null===(e=n.car)||void 0===e?void 0:e.id,c).subscribe((function(t){console.log(t)}),(function(t){alert(t)}))}else"Delete"===t.event&&console.log(t.data)}))}},{key:"checkMileage",value:function(t){return-1!=t?t:"Unlimited"}}]),t}()).\u0275fac=function(t){return new(t||O)(i.Rb(o.b),i.Rb(h.a))},O.\u0275cmp=i.Lb({type:O,selectors:[["app-car-teaser-car-info"]],inputs:{car:"car",admin:"admin"},decls:39,vars:17,consts:[[1,"row","m-3","shadow-sm","m-1","bg-white","rounded"],[1,"col-md-4","col-left","d-flex"],[4,"ngIf"],[1,"col-md-6","col-left","d-flex","justify-content-sm-start","justify-content-center","mt-3","align-items-center"],[1,"vehicle-info","mt-1"],["matTooltip","Vehicle brand and model",3,"matTooltipPosition"],["matTooltip","Fuel type",3,"matTooltipPosition"],["matTooltip","Transmission type",3,"matTooltipPosition"],["matTooltip","Vehicle category",3,"matTooltipPosition"],["matTooltip","Seats",3,"matTooltipPosition"],["matTooltip","Mileage",3,"matTooltipPosition"],[1,"col-sm-4","col-md-2","col-left"],[1,"row","mt-3","d-flex","justify-content-center","align-self-center"],["readonly","true","max","5",3,"rate","rateChange"],[1,"row","d-flex","justify-content-center","align-self-center"],[1,"col-sm-4","col-md-1","d-flex","justify-content-center","align-self-center"],["src","assets/images/comment.png","alt","",1,"comment-icon","mt-3"],[1,"col-sm-4","col-md-3","d-flex","justify-content-center","align-self-center"],["class","dropdown",4,"ngIf"],[1,"row","justify-content-center","align-self-center","ml-1"],[1,"car-Image","shadow-sm","bg-white","rounded",3,"src"],["unselectable","on","onselectstart","return false;","onmousedown","return false;",2,"text-align","center","line-height","150px","-moz-user-select","none","-webkit-user-select","none","-ms-user-select","none","user-select","none","-o-user-select","none"],[1,"star"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","mat-button","","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Oc(2,k,3,1,"div",2),i.Oc(3,X,3,0,"div",2),i.Wb(),i.Xb(4,"div",3),i.Xb(5,"ul",4),i.Xb(6,"li"),i.Xb(7,"mat-icon",5),i.Qc(8," directions_car"),i.Wb(),i.Qc(9),i.Wb(),i.Xb(10,"li"),i.Xb(11,"mat-icon",6),i.Qc(12," local_gas_station"),i.Wb(),i.Qc(13),i.Wb(),i.Xb(14,"li"),i.Xb(15,"mat-icon",7),i.Qc(16,"open_with"),i.Wb(),i.Qc(17),i.Wb(),i.Xb(18,"li"),i.Xb(19,"mat-icon",8),i.Qc(20,"commute"),i.Wb(),i.Qc(21),i.Wb(),i.Xb(22,"li"),i.Xb(23,"mat-icon",9),i.Qc(24,"airline_seat_recline_extra"),i.Wb(),i.Qc(25),i.Wb(),i.Xb(26,"li"),i.Xb(27,"mat-icon",10),i.Qc(28,"trending_up"),i.Wb(),i.Qc(29),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",11),i.Xb(31,"div",12),i.Xb(32,"ngb-rating",13),i.jc("rateChange",(function(t){return e.car.numberOfStars/(e.car.numberOfReviews=t)})),i.Oc(33,C,2,2,"ng-template"),i.Wb(),i.Wb(),i.Xb(34,"div",14),i.Xb(35,"div",15),i.Sb(36,"img",16),i.Wb(),i.Sb(37,"div",17),i.Wb(),i.Oc(38,W,7,0,"div",18),i.Wb(),i.Wb()),2&t&&(i.Db(2),i.uc("ngIf",e.car.images[0]),i.Db(1),i.uc("ngIf",!e.car.images[0]),i.Db(4),i.uc("matTooltipPosition","below"),i.Db(2),i.Tc(" ",e.car.brand.name," ",e.car.model.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.fuel.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.transmission.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.category.name," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.car.seats," "),i.Db(2),i.uc("matTooltipPosition","below"),i.Db(2),i.Sc(" ",e.checkMileage(e.car.mileage)," km "),i.Db(3),i.uc("rate",e.car.numberOfStars/e.car.numberOfReviews),i.Db(6),i.uc("ngIf",e.admin))},directives:[a.n,v.a,y.a,w.b,r.a],styles:[".star[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:5em;color:#585858}.filled[_ngcontent-%COMP%]{color:#e81831}.car-Image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.col-left[_ngcontent-%COMP%]{padding-left:0;align-items:center;justify-content:center}.col-vehicle-info[_ngcontent-%COMP%]{padding-left:.35em;padding-right:0}.vehicle-info[_ngcontent-%COMP%]{font-size:.8rem;list-style-type:none;-webkit-padding-start:0;padding-inline-start:0}.comment-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em}.info-label[_ngcontent-%COMP%]{font-family:RlBasisGrotesque,Avenir,Helvetica Neue,Helvetica,sans-serif;text-transform:none;margin-right:.4em;font-weight:700}.mat-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;font-family:Material Icons!important;vertical-align:middle;margin-right:1rem;margin-left:.5rem;cursor:help}"]}),O)},bLfd:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var c=n("tk/3"),o=n("lJxs"),i=n("JIr8"),a=n("z6cu"),r=n("AytR"),l=n("fXoL"),s=n("b6Qw"),b=n("tyNb"),u=r.a.API_URL,d=function(){var t=function(){function t(e,n,c){_classCallCheck(this,t),this.cookieService=e,this.http=n,this.router=c}return _createClass(t,[{key:"checkout",value:function(t){var e=new c.d({"Content-Type":"application/json"});return this.http.post(u+"/checkout",t,{headers:e,observe:"response",responseType:"text"}).pipe(Object(o.a)((function(t){return t.body})),Object(i.a)((function(t){return Object(a.a)(t.error.message)})))}},{key:"getCustomerRentals",value:function(t,e,n){var r=new c.d({"Content-Type":"application/json",pageable:"true",page:n.toString()});return this.http.get("".concat(u,"/customer/").concat(t,"/rental/status/").concat(e),{headers:r,observe:"response"}).pipe(Object(o.a)((function(t){return t.body})),Object(i.a)((function(t){return Object(a.a)(t.error.message)})))}},{key:"getOwnerRentals",value:function(t,e,n){var r=new c.d({"Content-Type":"application/json",pageable:"true",page:n.toString()});return this.http.get("".concat(u,"/owner/").concat(t,"/rental/status/").concat(e),{headers:r,observe:"response"}).pipe(Object(o.a)((function(t){return t.body})),Object(i.a)((function(t){return Object(a.a)(t.error.message)})))}},{key:"edit",value:function(t,e){var n=new c.d({"Content-Type":"application/json"});return this.http.put("".concat(u,"/rental/").concat(t),e,{headers:n,observe:"response"}).pipe(Object(o.a)((function(t){return t.body})),Object(i.a)((function(t){return Object(a.a)(t.error)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.fc(s.a),l.fc(c.b),l.fc(b.c))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},d32p:function(t,e,n){"use strict";n.r(e),n.d(e,"ShoppingCartModule",(function(){return B}));var c=n("ofXK"),o=n("3Pt+"),i=n("bSwM"),a=n("0IaG"),r=n("qFsG"),l=n("bTqV"),s=n("NFeN"),b=n("Qu3c"),u=n("tyNb"),d=n("zoVj"),f=n("+0xr"),p=n("fXoL"),m=n("kmnG");function g(t,e){if(1&t){var n=p.Yb();p.Xb(0,"mat-form-field"),p.Xb(1,"input",7),p.jc("ngModelChange",(function(t){return p.Hc(n),p.nc().local_data.name=t})),p.Wb(),p.Wb()}if(2&t){var c=p.nc();p.Db(1),p.uc("ngModel",c.local_data.name)}}function h(t,e){if(1&t&&(p.Qc(0," Delete "),p.Xb(1,"b"),p.Qc(2),p.Wb(),p.Qc(3," bundle? ")),2&t){var n=p.nc();p.Db(2),p.Rc(n.local_data.name)}}var v,y=((v=function(){function t(e,n){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.local_data=Object.assign({},n),this.action=this.local_data.action}return _createClass(t,[{key:"doAction",value:function(){this.dialogRef.close({event:this.action,data:this.local_data})}},{key:"closeDialog",value:function(){this.dialogRef.close({event:"Cancel"})}}]),t}()).\u0275fac=function(t){return new(t||v)(p.Rb(a.f),p.Rb(a.a,8))},v.\u0275cmp=p.Lb({type:v,selectors:[["app-bundle-dialog-box"]],decls:12,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions","",2,"margin-top","10px"],["mat-button","",1,"do-button",3,"click"],["mat-button","","mat-flat-button","",3,"click"],["placeholder","Name","matInput","",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(p.Xb(0,"h1",0),p.Xb(1,"strong"),p.Qc(2),p.Wb(),p.Wb(),p.Xb(3,"div",1),p.Oc(4,g,2,1,"mat-form-field",2),p.Oc(5,h,4,1,"ng-template",null,3,p.Pc),p.Wb(),p.Xb(7,"div",4),p.Xb(8,"button",5),p.jc("click",(function(){return e.doAction()})),p.Qc(9),p.Wb(),p.Xb(10,"button",6),p.jc("click",(function(){return e.closeDialog()})),p.Qc(11,"Cancel"),p.Wb(),p.Wb()),2&t){var n=p.Dc(6);p.Db(2),p.Sc("",e.action," bundle"),p.Db(2),p.uc("ngIf","Delete"!=e.action)("ngIfElse",n),p.Db(5),p.Rc(e.action)}},directives:[a.g,a.d,c.n,a.c,l.a,m.c,r.b,o.b,o.j,o.m],styles:[".do-button[_ngcontent-%COMP%]{background-color:#e81831;color:#fff}"]}),v),w=n("AiOb"),k=n("3zK3"),X=n("qfBg"),C=n("bLfd"),W=n("b6Qw"),O=n("QHs6");function j(t,e){if(1&t){var n=p.Yb();p.Xb(0,"a",26),p.jc("click",(function(){p.Hc(n);var t=e.$implicit;return p.nc(2).addToBundle(t)})),p.Qc(1),p.Wb()}if(2&t){var c=e.$implicit;p.Db(1),p.Rc(c.name)}}function _(t,e){if(1&t&&(p.Xb(0,"div",20),p.Xb(1,"button",21),p.Xb(2,"span",22),p.Qc(3,"Add to bundle"),p.Wb(),p.Xb(4,"mat-icon",23),p.Qc(5,"add"),p.Wb(),p.Wb(),p.Xb(6,"div",24),p.Oc(7,j,2,1,"a",25),p.Wb(),p.Wb()),2&t){var n=p.nc();p.Db(7),p.uc("ngForOf",n.bundles)}}function D(t,e){if(1&t&&(p.Xb(0,"div"),p.Qc(1," Bundle: "),p.Xb(2,"b"),p.Qc(3),p.Wb(),p.Wb()),2&t){var n=p.nc();p.Db(3),p.Rc(n.rental.bundle)}}var P,Q=((P=function(){function t(e,n){_classCallCheck(this,t),this.cookieService=e,this.shoppingCartService=n,this.delete=new p.o,this.cartUpdated=new p.o}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"addToBundle",value:function(t){t.owner&&t.owner!==this.rental.car.ownerId?alert("Cars in the same bundle must be from the same owner."):(this.shoppingCartService.addToBundle(t,this.rental),this.cartUpdated.emit(this.rental))}},{key:"fromLocaleString",value:function(){return new Date(1e3*this.rental.from).toLocaleString()}},{key:"toLocaleString",value:function(){return new Date(1e3*this.rental.to).toLocaleString()}},{key:"removeFromCart",value:function(t){if(t.bundle){var e=new w.a(t.bundle,null,null);this.shoppingCartService.removeFromBundle(e,t)}this.cartUpdated.emit(this.rental),this.shoppingCartService.removeRentalFromCart(t),this.delete.emit(this.rental)}}]),t}()).\u0275fac=function(t){return new(t||P)(p.Rb(W.a),p.Rb(k.a))},P.\u0275cmp=p.Lb({type:P,selectors:[["app-sc-car-teaser"]],inputs:{bundles:"bundles",rental:"rental"},outputs:{delete:"delete",cartUpdated:"cartUpdated"},decls:43,vars:6,consts:[[1,"row","m-3","shadow-sm","m-1","bg-white","rounded"],[1,"row",2,"width","100%"],[2,"width","100%",3,"car"],[1,"col-sm-6"],[1,"row","ml-1"],[1,"col-sm-2","d-flex","justify-content-sm-end","justify-content-center"],[1,"label"],[1,"col-sm-8","d-flex","justify-content-sm-start","justify-content-center"],[1,"text"],[1,"w-100"],[1,"col-sm-3"],[1,"row"],[1,"col-sm-12","d-flex","justify-content-center","align-self-center"],[1,"d-flex","align-self-center"],[2,"padding-left","0.8rem",3,"labelPosition"],[1,""],[1,"row","d-flex","justify-content-center","align-self-center"],["class","dropdown",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-danger",2,"margin-top","3px",3,"click"],[1,"dropdown"],["id","dropdownMenuButton","data-toggle","dropdown","mat-button","","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],[2,"padding-bottom","7px","padding-right","7px"],[2,"cursor","pointer","font-size","24px","margin-left","0px","margin-right","0px","width","24px"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Sb(2,"app-car-teaser-car-info",2),p.Wb(),p.Xb(3,"div",1),p.Xb(4,"div",3),p.Xb(5,"div",4),p.Xb(6,"div",5),p.Xb(7,"p",6),p.Qc(8,"From"),p.Wb(),p.Wb(),p.Xb(9,"div",7),p.Xb(10,"p",8),p.Qc(11),p.Wb(),p.Wb(),p.Sb(12,"div",9),p.Wb(),p.Xb(13,"div",4),p.Xb(14,"div",5),p.Xb(15,"p",6),p.Qc(16,"To"),p.Wb(),p.Wb(),p.Xb(17,"div",7),p.Xb(18,"p",8),p.Qc(19),p.Wb(),p.Wb(),p.Sb(20,"div",9),p.Wb(),p.Wb(),p.Xb(21,"div",10),p.Xb(22,"div",11),p.Xb(23,"div",12),p.Xb(24,"p",6),p.Qc(25,"Collision Damage Waiver"),p.Wb(),p.Xb(26,"div",13),p.Sb(27,"mat-checkbox",14),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Xb(28,"div",10),p.Xb(29,"div",11),p.Xb(30,"div",12),p.Xb(31,"p",6),p.Qc(32,"Total price"),p.Wb(),p.Wb(),p.Xb(33,"div",12),p.Xb(34,"p",15),p.Qc(35,"500$"),p.Wb(),p.Wb(),p.Xb(36,"div",12),p.Xb(37,"div",16),p.Oc(38,_,8,1,"div",17),p.Oc(39,D,4,1,"div",18),p.Xb(40,"div"),p.Xb(41,"a",19),p.jc("click",(function(){return e.removeFromCart(e.rental)})),p.Qc(42,"Remove from cart"),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&t&&(p.Db(2),p.uc("car",e.rental.car),p.Db(9),p.Rc(e.fromLocaleString()),p.Db(8),p.Rc(e.toLocaleString()),p.Db(8),p.uc("labelPosition","after"),p.Db(11),p.uc("ngIf",null===e.rental.bundle),p.Db(1),p.uc("ngIf",null!==e.rental.bundle))},directives:[O.a,i.a,c.n,l.a,s.a,c.m],styles:[".label[_ngcontent-%COMP%]{font-weight:500}.text[_ngcontent-%COMP%]{font-weight:400}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#e81831}.mat-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;font-family:Material Icons!important;vertical-align:middle;margin-right:1rem;margin-left:.5rem;cursor:help}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:visited{background-color:transparent}.active[_ngcontent-%COMP%]{background-color:#e81831;color:#eee}.btn-outline-danger[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#e81831;color:#fff}"]}),P);function S(t,e){if(1&t){var n=p.Yb();p.Xb(0,"app-sc-car-teaser",11),p.jc("delete",(function(t){return p.Hc(n),p.nc().deleteRental(t)}))("cartUpdated",(function(t){return p.Hc(n),p.nc().cartUpdated(t)})),p.Wb()}if(2&t){var c=e.$implicit,o=p.nc();p.uc("rental",c)("bundles",o.bundles)}}function x(t,e){if(1&t){var n=p.Yb();p.Xb(0,"li",18),p.Qc(1),p.Xb(2,"mat-icon",19),p.jc("click",(function(){p.Hc(n);var t=e.$implicit,c=p.nc().$implicit;return p.nc().removeFromBundle(c,t)})),p.Qc(3,"close"),p.Wb(),p.Wb()}if(2&t){var c=e.$implicit;p.Db(1),p.Sc(" ",c.car.brand.name+" "+c.car.model.name," "),p.Db(1),p.uc("matTooltipPosition","below")}}function T(t,e){if(1&t){var n=p.Yb();p.Xb(0,"div",1),p.Xb(1,"div",12),p.Xb(2,"div",1),p.Xb(3,"div",13),p.Xb(4,"ul",14),p.Xb(5,"li",15),p.Qc(6),p.Xb(7,"mat-icon",16),p.jc("click",(function(){p.Hc(n);var t=e.$implicit;return p.nc().openDialog("Delete",t)})),p.Qc(8,"delete"),p.Wb(),p.Wb(),p.Oc(9,x,4,2,"li",17),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb()}if(2&t){var c=e.$implicit;p.Db(6),p.Sc(" ",c.name," "),p.Db(1),p.uc("matTooltipPosition","below"),p.Db(2),p.uc("ngForOf",c.rentals)}}var M,R,I,F=[{path:"",component:(M=function(){function t(e,n,c,o){_classCallCheck(this,t),this.dialog=e,this.shoppingCartService=n,this.userService=c,this.rentalService=o,this.bundles=new Array,this.rentals=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.rentals=this.shoppingCartService.getRentals(),this.bundles=this.shoppingCartService.getBundles()}},{key:"openDialog",value:function(t,e){var n=this;e.action=t,this.dialog.open(y,{width:"300px",data:e}).afterClosed().subscribe((function(t){t&&("Create"===t.event?n.createBundle(t.data):"Delete"===t.event&&n.deleteBundle(t.data))}))}},{key:"createBundle",value:function(t){this.shoppingCartService.addBundleToCart(t),this.cartUpdated("create")}},{key:"deleteBundle",value:function(t){this.shoppingCartService.removeBundleFromCart(t),this.cartUpdated("delete")}},{key:"removeFromBundle",value:function(t,e){this.shoppingCartService.removeFromBundle(t,e),this.cartUpdated("remove")}},{key:"checkout",value:function(){var t=this,e=new Array;if(0!==this.rentals.length){var n;for(n=0;n<this.rentals.length;n++){var c=this.rentals[n],o=new d.a(c.id,c.car.id,null,c.ownerId,c.from,c.to,null,null,null,c.company);if(o.customerId=this.userService.getUser().id,c.bundle){var i=new w.a(c.bundle,null,null);o.bundle=i}e.push(o)}this.rentalService.checkout(e).subscribe((function(){alert("Checkout successfull"),t.shoppingCartService.clearCart(),t.cartUpdated("delete")}),(function(t){alert(t)}))}}},{key:"deleteRental",value:function(t){this.rentals=this.rentals.filter((function(e){return!(e.car.id===t.car.id&&e.to===t.to&&e.from===t.from)}))}},{key:"cartUpdated",value:function(t){this.bundles=this.shoppingCartService.getBundles(),this.rentals=this.shoppingCartService.getRentals()}}]),t}(),M.\u0275fac=function(t){return new(t||M)(p.Rb(a.b),p.Rb(k.a),p.Rb(X.a),p.Rb(C.a))},M.\u0275cmp=p.Lb({type:M,selectors:[["app-shopping-cart"]],viewQuery:function(t,e){var n;1&t&&p.Mc(f.j,!0),2&t&&p.Cc(n=p.kc())&&(e.table=n.first)},decls:14,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-9",2,"height","100%"],[3,"rental","bundles","delete","cartUpdated",4,"ngFor","ngForOf"],[1,"col-md-3",2,"height","100%"],["id","create-bundle-div",1,"row","m-3","m-1"],["id","create-bundle",1,"btn","btn-sm","btn-outline-danger",3,"click"],["matTooltip","Bundles indicate that you are willing to rent some vehicles through a single rental request and only as a group.",2,"cursor","pointer","font-size","24px","margin-left","15px","margin-right","0px","width","24px",3,"matTooltipPosition"],["class","row",4,"ngFor","ngForOf"],["id","checkout-div",1,"row","m-3"],["id","checkout",1,"btn","btn-danger",3,"click"],[3,"rental","bundles","delete","cartUpdated"],[1,"col"],[1,"col","m-2"],[1,"list-group"],[1,"list-group-item","active","justify-content-between","align-items-center","inline"],["matTooltip","Delete bundle",3,"matTooltipPosition","click"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["matTooltip","Remove from bundle",3,"matTooltipPosition","click"]],template:function(t,e){1&t&&(p.Xb(0,"div",0),p.Xb(1,"div",1),p.Xb(2,"div",2),p.Oc(3,S,1,2,"app-sc-car-teaser",3),p.Wb(),p.Xb(4,"div",4),p.Xb(5,"div",5),p.Xb(6,"a",6),p.jc("click",(function(){return e.openDialog("Create",{})})),p.Qc(7,"Create Bundle"),p.Wb(),p.Xb(8,"mat-icon",7),p.Qc(9,"help_outline"),p.Wb(),p.Wb(),p.Oc(10,T,10,3,"div",8),p.Xb(11,"div",9),p.Xb(12,"a",10),p.jc("click",(function(){return e.checkout()})),p.Qc(13,"Checkout"),p.Wb(),p.Wb(),p.Wb(),p.Wb(),p.Wb()),2&t&&(p.Db(3),p.uc("ngForOf",e.rentals),p.Db(5),p.uc("matTooltipPosition","below"),p.Db(2),p.uc("ngForOf",e.bundles))},directives:[c.m,s.a,b.a,Q],styles:["#create-bundle-div[_ngcontent-%COMP%]{align-items:center;justify-content:center}#create-bundle[_ngcontent-%COMP%]:hover{color:#fff}.active[_ngcontent-%COMP%]{background-color:#585858}.mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;font-family:Material Icons!important;vertical-align:middle;margin-right:.2rem;margin-left:.5rem;cursor:pointer;float:right}#checkout-div[_ngcontent-%COMP%]{padding-top:10vh;align-items:center;justify-content:center}#checkout[_ngcontent-%COMP%]{width:80%;background-color:#e81831}#checkout[_ngcontent-%COMP%], #checkout[_ngcontent-%COMP%]:hover{color:#fff}"]}),M),canActivate:[],children:[]}],L=((R=function t(){_classCallCheck(this,t)}).\u0275mod=p.Pb({type:R}),R.\u0275inj=p.Ob({factory:function(t){return new(t||R)},imports:[[u.g.forChild(F)],u.g]}),R),U=n("PCNd"),B=((I=function t(){_classCallCheck(this,t)}).\u0275mod=p.Pb({type:I}),I.\u0275inj=p.Ob({factory:function(t){return new(t||I)},providers:[],imports:[[c.c,o.f,o.p,i.b,a.e,r.c,l.b,s.b,b.b,L,U.a]]}),I)},j6lU:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var c=n("AytR"),o=n("tk/3"),i=n("lJxs"),a=n("JIr8"),r=n("z6cu"),l=n("fXoL"),s=n("b6Qw"),b=n("tyNb"),u=c.a.API_URL,d=function(){var t=function(){function t(e,n,c){_classCallCheck(this,t),this.cookieService=e,this.http=n,this.router=c}return _createClass(t,[{key:"getByVehicle",value:function(t){var e=new o.d({"Content-Type":"application/json"});return this.http.get("".concat(u,"/vehicle/").concat(t,"/occupancy"),{headers:e,observe:"response"}).pipe(Object(i.a)((function(t){return t.body})),Object(a.a)((function(t){return Object(r.a)(t.error.message)})))}},{key:"getOne",value:function(t,e,n){var c=new o.d({"Content-Type":"application/json"});return this.http.get("".concat(u,"/vehicle/").concat(t,"/occupancy/start/").concat(e,"/end/").concat(n),{headers:c,observe:"response"}).pipe(Object(i.a)((function(t){return t.body})),Object(a.a)((function(t){return Object(r.a)(t.error.message)})))}},{key:"add",value:function(t,e){var n=new o.d({"Content-Type":"application/json"});return this.http.post("".concat(u,"/vehicle/").concat(t,"/occupancy"),e,{headers:n,observe:"response"}).pipe(Object(i.a)((function(t){return t.body})),Object(a.a)((function(t){return Object(r.a)(t.error.message)})))}},{key:"edit",value:function(t,e,n){var c=new o.d({"Content-Type":"application/json"});return this.http.put("".concat(u,"/vehicle/").concat(t,"/occupancy/").concat(e),n,{headers:c,observe:"response"}).pipe(Object(i.a)((function(t){return t.body})),Object(a.a)((function(t){return Object(r.a)(t.error.message)})))}},{key:"delete",value:function(t,e){var n=new o.d({"Content-Type":"application/json"});return this.http.delete("".concat(u,"/vehicle/").concat(t,"/occupancy/").concat(e),{headers:n,observe:"response"}).pipe(Object(i.a)((function(t){return t.body})),Object(a.a)((function(t){return Object(r.a)(t.error.message)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.fc(s.a),l.fc(o.b),l.fc(b.c))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zoVj:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));var c=function t(e,n,c,o,i,a,r,l,s){_classCallCheck(this,t),this.id=e,this.car=n,this.from=c,this.to=o,this.bundle=i,this.report=a,this.customerId=r,this.ownerId=l,this.company=s},o=function t(e,n,c,o,i,a,r,l,s,b){_classCallCheck(this,t),this.bundle=null,this.id=e,this.vehicleId=n,this.customerId=c,this.ownerId=o,this.startTime=i,this.endTime=a,this.bundle=r,this.report=l,this.status=s,this.cid=b}}}]);